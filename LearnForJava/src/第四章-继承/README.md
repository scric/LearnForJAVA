# 第四章 - 继承

## 内容

+ 类,超类和子类
+ 


### 类,超类和子类

+ 关键词extend表示继承 ,表明正在构造的新类派生于一个已存在的类. 
 
+ 已存在的类称为超类(superclass),基类(baseclass)或父类(parentclass)

+ 新类称为子类(subclass),派生类(derivedclass)或孩子类(childclass)

+ 应该将通用的方法放在超类中,而将具有特殊用途的方法放在子类中.

+ super和this引用是两个概念.因为super并不是一个对象的引用,不能够将super赋给另一个对象变量,它只是一个指示编译器调用超类方法的特殊关键词

+ 在子类中可以增加域,增加方法或覆盖超类的方法,然而绝对不能删除继承的任何域和方法.


Super 的用途 " 调用超类的方法" "调用超类的构造器"
  
一个对象变量(例如变量e)可以指示多种实际类型的现象被称作多态(polymorphism).
  
在运行时能够自动地选择调用哪个方法的现象称为动态绑定(dynamic binding)

动态绑定是默认的处理方式

#### 继承层次

继承并不仅限于一个层次.例如,可以由Manager类派生Executive类.由一个公共超类派生出来的所有类的集合被称作为继承层次(inheritance hierarchy)/  

在继承层次中,从某个特定的类到其祖先的路径被称为该类的继承链(inheritance chain)

通常,一个祖先类可以拥有多个子孙继承链.它们彼此之间可能没有关系

#### 多态

继承关系的简单规则是"is a"规则,它表明子类的每个对象也是超类的对象 ,  

它的另一种表述法是置换法则 .它表明程序中出现超类对象的任何地方都可以用子类对象置换  

所有数组都要牢记创建他们的元素类型,并负责监督仅将类型兼容的引用存储到数组中.

#### 动态绑定

调用对象方法的执行过程:

1) 编译器查看对象的声明类型和方法名
2) 编译器将查看调用方法时提供的参数类型. 如果在所有名为f的方法中存在一个与提供的参数类型完全匹配,就选择这个方法,这个过程被称为重载解析(overloading resolution)
3) 如果是private,static,final方法或者构造器,那么编译器将可以准确地知道应该调用哪个方法,这种调用方式称为静态绑定(static binding)
4) 当程序运行,并且采用动态绑定调用方法时,虚拟机一定调用与x所引用对象的实际类型最适合的那个类的方法.

每次调用方法都要进行搜索,时间开销很大,因此虚拟机预先为每个类创建了一个方法表(method table),其中列出了所有方法的签名和实际调用的方法. 注意,如果调用super.f(param),编译器将对隐式参数超类的方法表进行搜索

动态绑定有一个很重要的特性:
> 无需对现存的代码进行修改,就可以对出现进行扩展

在覆盖一个方法的时候,子类方法不能低于超类方法的可见性.特别是,超类的方法是public,子类的方法一定要声明为public

#### 阻止继承:final类和方法

不允许扩展的类被称为final类.在定义类的时候使用了final修饰符就表明这个类时final类.

final类中的所有方法自动地称为final方法.注意,是只有其中的方法而不包括域.

将方法或类声明为final主要目的是:确保它们不会在子类中改变语义 .比如String类也是final类.如果有一个String的引用,它引用的一定是一个Sting对象,而不可能是其他类的对象.

#### 抽象类

从某种角度看,祖先类更加通用,人们只将它作为派生其他类的基类,而不作为想使用的特定的实例类.为什么要花费精力进行这样高层四的抽象类呢?

+ 为了提高程序的清晰度,包含一个或多个抽象方法的类本身必须声明为抽象的.

+ 除了抽象方法之外,抽象类还可以包含具体数据和具体方法. 抽象方法在这里充当着占位的作用,它们的具体实现在子类中.

+ 类即使不含抽象方法也可以将类声明成抽象类

+ 抽象类不能被实例化

#### 受保护访问

最好将类中的域标记为private ,而方法标记为public

然而有些时候,人们希望超类中的某些方法允许被子类访问,或允许子类的方法访问超类的某个域,可以将这些方法或域声明为protected

+ 仅对本类可见 - private
+ 对所有类可用 - public
+ 对本包和所有子类可见 - protected
+ 对本包可见 - 默认,不需要任何修饰符


### 包装器与自动包装

详情可见文件夹 对象包装器与自动包装

### 参数数量可变的方法

详情可见 文件夹 参数数量可变的方法

注意, 是参数数量 可以改变的方法

### 枚举类

所有的枚举类型都是Enum类的子类 .它们继承了这个类的许多方法

详细可见 文件夹 枚举类